{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useEmployees.js\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useEmployees as useEmployeeContext } from \"../Context/EmployeeProvider\";\nexport default function useEmployees() {\n  _s();\n  const {\n    employees\n  } = useEmployeeContext();\n\n  // Search\n  const [search, setSearch] = useState(\"\");\n  const [debouncedSearch, setDebouncedSearch] = useState(\"\");\n\n  // Filters\n  const [statusFilter, setStatusFilter] = useState(\"all\"); // all | active | inactive\n  const [positionFilter, setPositionFilter] = useState(\"all\");\n  const [salaryFilter, setSalaryFilter] = useState(\"all\"); // <50k | 50–100k | >100k\n\n  // Sorting\n  const [sortField, setSortField] = useState(\"name\");\n  const [sortOrder, setSortOrder] = useState(\"asc\");\n\n  // Pagination\n  const pageSize = 5;\n  const [page, setPage] = useState(1);\n\n  // Debounce search input\n  useEffect(() => {\n    const timer = setTimeout(() => setDebouncedSearch(search), 300);\n    return () => clearTimeout(timer);\n  }, [search]);\n\n  // Main filtering + sorting + pagination logic\n  const processedEmployees = useMemo(() => {\n    let data = [...employees];\n\n    // Filter: status\n    if (statusFilter !== \"all\") {\n      const isActive = statusFilter === \"active\";\n      data = data.filter(emp => emp.status === (isActive ? \"Active\" : \"Inactive\"));\n    }\n\n    // Filter: position\n    if (positionFilter !== \"all\") {\n      data = data.filter(emp => emp.position === positionFilter);\n    }\n\n    // Filter: salary range\n    if (salaryFilter !== \"all\") {\n      data = data.filter(emp => {\n        if (salaryFilter === \"lt50\") return emp.salary < 50000;\n        if (salaryFilter === \"50to100\") return emp.salary >= 50000 && emp.salary <= 100000;\n        if (salaryFilter === \"gt100\") return emp.salary > 100000;\n        return true;\n      });\n    }\n\n    // Search\n    if (debouncedSearch.trim() !== \"\") {\n      const term = debouncedSearch.toLowerCase();\n      data = data.filter(emp => emp.name.toLowerCase().includes(term) || emp.email.toLowerCase().includes(term) || emp.position.toLowerCase().includes(term));\n    }\n\n    // Sorting\n    data.sort((a, b) => {\n      let valA = a[sortField];\n      let valB = b[sortField];\n\n      // Sort by date\n      if (sortField === \"dateJoined\") {\n        valA = new Date(a.dateJoined);\n        valB = new Date(b.dateJoined);\n      }\n\n      // Numeric sort\n      if (sortField === \"salary\") {\n        valA = Number(a.salary);\n        valB = Number(b.salary);\n      }\n      if (valA < valB) return sortOrder === \"asc\" ? -1 : 1;\n      if (valA > valB) return sortOrder === \"asc\" ? 1 : -1;\n      return 0;\n    });\n    return data;\n  }, [employees, debouncedSearch, statusFilter, positionFilter, salaryFilter, sortField, sortOrder]);\n\n  // Pagination result\n  const paginatedEmployees = useMemo(() => {\n    const start = (page - 1) * pageSize;\n    return processedEmployees.slice(start, start + pageSize);\n  }, [processedEmployees, page]);\n  const totalPages = Math.ceil(processedEmployees.length / pageSize);\n  return {\n    employees: paginatedEmployees,\n    totalEmployees: processedEmployees.length,\n    search,\n    setSearch,\n    statusFilter,\n    setStatusFilter,\n    positionFilter,\n    setPositionFilter,\n    salaryFilter,\n    setSalaryFilter,\n    sortField,\n    sortOrder,\n    setSortField,\n    setSortOrder,\n    page,\n    setPage,\n    totalPages\n  };\n}\n_s(useEmployees, \"1Fgnw9049PRwMQ4kasTn2QUy9Og=\", false, function () {\n  return [useEmployeeContext];\n});","map":{"version":3,"names":["useEffect","useMemo","useState","useEmployees","useEmployeeContext","_s","employees","search","setSearch","debouncedSearch","setDebouncedSearch","statusFilter","setStatusFilter","positionFilter","setPositionFilter","salaryFilter","setSalaryFilter","sortField","setSortField","sortOrder","setSortOrder","pageSize","page","setPage","timer","setTimeout","clearTimeout","processedEmployees","data","isActive","filter","emp","status","position","salary","trim","term","toLowerCase","name","includes","email","sort","a","b","valA","valB","Date","dateJoined","Number","paginatedEmployees","start","slice","totalPages","Math","ceil","length","totalEmployees"],"sources":["C:/Users/ASUS/OneDrive/Desktop/PhugitalTech/frontend/src/Hooks/useEmployees.jsx"],"sourcesContent":["// src/hooks/useEmployees.js\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useEmployees as useEmployeeContext } from \"../Context/EmployeeProvider\";\r\n\r\nexport default function useEmployees() {\r\n  const { employees } = useEmployeeContext();\r\n\r\n  // Search\r\n  const [search, setSearch] = useState(\"\");\r\n  const [debouncedSearch, setDebouncedSearch] = useState(\"\");\r\n\r\n  // Filters\r\n  const [statusFilter, setStatusFilter] = useState(\"all\"); // all | active | inactive\r\n  const [positionFilter, setPositionFilter] = useState(\"all\");\r\n  const [salaryFilter, setSalaryFilter] = useState(\"all\"); // <50k | 50–100k | >100k\r\n\r\n  // Sorting\r\n  const [sortField, setSortField] = useState(\"name\");\r\n  const [sortOrder, setSortOrder] = useState(\"asc\");\r\n\r\n  // Pagination\r\n  const pageSize = 5;\r\n  const [page, setPage] = useState(1);\r\n\r\n  // Debounce search input\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setDebouncedSearch(search), 300);\r\n    return () => clearTimeout(timer);\r\n  }, [search]);\r\n\r\n  // Main filtering + sorting + pagination logic\r\n  const processedEmployees = useMemo(() => {\r\n    let data = [...employees];\r\n\r\n    // Filter: status\r\n    if (statusFilter !== \"all\") {\r\n      const isActive = statusFilter === \"active\";\r\n      data = data.filter((emp) => emp.status === (isActive ? \"Active\" : \"Inactive\"));\r\n    }\r\n\r\n    // Filter: position\r\n    if (positionFilter !== \"all\") {\r\n      data = data.filter((emp) => emp.position === positionFilter);\r\n    }\r\n\r\n    // Filter: salary range\r\n    if (salaryFilter !== \"all\") {\r\n      data = data.filter((emp) => {\r\n        if (salaryFilter === \"lt50\") return emp.salary < 50000;\r\n        if (salaryFilter === \"50to100\") return emp.salary >= 50000 && emp.salary <= 100000;\r\n        if (salaryFilter === \"gt100\") return emp.salary > 100000;\r\n        return true;\r\n      });\r\n    }\r\n\r\n    // Search\r\n    if (debouncedSearch.trim() !== \"\") {\r\n      const term = debouncedSearch.toLowerCase();\r\n      data = data.filter(\r\n        (emp) =>\r\n          emp.name.toLowerCase().includes(term) ||\r\n          emp.email.toLowerCase().includes(term) ||\r\n          emp.position.toLowerCase().includes(term)\r\n      );\r\n    }\r\n\r\n    // Sorting\r\n    data.sort((a, b) => {\r\n      let valA = a[sortField];\r\n      let valB = b[sortField];\r\n\r\n      // Sort by date\r\n      if (sortField === \"dateJoined\") {\r\n        valA = new Date(a.dateJoined);\r\n        valB = new Date(b.dateJoined);\r\n      }\r\n\r\n      // Numeric sort\r\n      if (sortField === \"salary\") {\r\n        valA = Number(a.salary);\r\n        valB = Number(b.salary);\r\n      }\r\n\r\n      if (valA < valB) return sortOrder === \"asc\" ? -1 : 1;\r\n      if (valA > valB) return sortOrder === \"asc\" ? 1 : -1;\r\n      return 0;\r\n    });\r\n\r\n    return data;\r\n  }, [\r\n    employees,\r\n    debouncedSearch,\r\n    statusFilter,\r\n    positionFilter,\r\n    salaryFilter,\r\n    sortField,\r\n    sortOrder,\r\n  ]);\r\n\r\n  // Pagination result\r\n  const paginatedEmployees = useMemo(() => {\r\n    const start = (page - 1) * pageSize;\r\n    return processedEmployees.slice(start, start + pageSize);\r\n  }, [processedEmployees, page]);\r\n\r\n  const totalPages = Math.ceil(processedEmployees.length / pageSize);\r\n\r\n  return {\r\n    employees: paginatedEmployees,\r\n    totalEmployees: processedEmployees.length,\r\n\r\n    search,\r\n    setSearch,\r\n\r\n    statusFilter,\r\n    setStatusFilter,\r\n\r\n    positionFilter,\r\n    setPositionFilter,\r\n\r\n    salaryFilter,\r\n    setSalaryFilter,\r\n\r\n    sortField,\r\n    sortOrder,\r\n    setSortField,\r\n    setSortOrder,\r\n\r\n    page,\r\n    setPage,\r\n    totalPages,\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}