{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\PhugitalTech\\\\frontend\\\\src\\\\Context\\\\EmployeeProvider.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/context/EmployeeContext.jsx\n\nimport { createContext, useContext, useEffect, useState, useCallback } from \"react\";\nimport { apiFetchEmployees, apiAddEmployee, apiDeleteEmployee, apiUpdateEmployee, apiGetEmployeeById } from \"../services/simulatedApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EmployeeContext = /*#__PURE__*/createContext();\nexport function EmployeeProvider({\n  children\n}) {\n  _s();\n  const [employees, setEmployees] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Fetch employees at initial load\n  const loadEmployees = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const data = await apiFetchEmployees();\n      setEmployees(data);\n    } catch (err) {\n      setError(\"Failed to fetch employees.\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    loadEmployees();\n  }, [loadEmployees]);\n\n  // Add Employee\n  const addEmployee = async employee => {\n    setLoading(true);\n    try {\n      const newEmp = await apiAddEmployee(employee);\n      setEmployees(prev => [...prev, newEmp]);\n      return newEmp;\n    } catch (err) {\n      setError(\"Failed to add employee.\");\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Update Employee\n  const updateEmployee = async (id, updated) => {\n    setLoading(true);\n    try {\n      await apiUpdateEmployee(id, updated);\n      setEmployees(prev => prev.map(emp => emp.id === id ? {\n        ...emp,\n        ...updated\n      } : emp));\n    } catch (err) {\n      setError(\"Failed to update employee.\");\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Optimistic Delete\n  const deleteEmployee = async id => {\n    // Optimistic UI Update:\n    const previousEmployees = [...employees];\n    setEmployees(prev => prev.filter(emp => emp.id !== id));\n    try {\n      await apiDeleteEmployee(id);\n      // success -> permanent\n    } catch (err) {\n      // rollback UI\n      setEmployees(previousEmployees);\n      setError(\"Delete failed — restored employee.\");\n    }\n  };\n\n  // Get Single Employee\n  const getEmployeeById = async id => {\n    try {\n      return await apiGetEmployeeById(id);\n    } catch (err) {\n      setError(\"Employee not found.\");\n      return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(EmployeeContext.Provider, {\n    value: {\n      employees,\n      loading,\n      error,\n      addEmployee,\n      updateEmployee,\n      deleteEmployee,\n      getEmployeeById,\n      reload: loadEmployees\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}\n\n// Custom Hook\n_s(EmployeeProvider, \"XJdBSupvb6L2nagYOQ+hz43Xbps=\");\n_c = EmployeeProvider;\nexport function useEmployees() {\n  _s2();\n  return useContext(EmployeeContext);\n}\n_s2(useEmployees, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"EmployeeProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","useCallback","apiFetchEmployees","apiAddEmployee","apiDeleteEmployee","apiUpdateEmployee","apiGetEmployeeById","jsxDEV","_jsxDEV","EmployeeContext","EmployeeProvider","children","_s","employees","setEmployees","loading","setLoading","error","setError","loadEmployees","data","err","addEmployee","employee","newEmp","prev","updateEmployee","id","updated","map","emp","deleteEmployee","previousEmployees","filter","getEmployeeById","Provider","value","reload","fileName","_jsxFileName","lineNumber","columnNumber","_c","useEmployees","_s2","$RefreshReg$"],"sources":["C:/Users/ASUS/OneDrive/Desktop/PhugitalTech/frontend/src/Context/EmployeeProvider.jsx"],"sourcesContent":["// src/context/EmployeeContext.jsx\r\n\r\nimport { createContext, useContext, useEffect, useState, useCallback } from \"react\";\r\nimport {\r\n  apiFetchEmployees,\r\n  apiAddEmployee,\r\n  apiDeleteEmployee,\r\n  apiUpdateEmployee,\r\n  apiGetEmployeeById,\r\n} from \"../services/simulatedApi\";\r\n\r\nconst EmployeeContext = createContext();\r\n\r\nexport function EmployeeProvider({ children }) {\r\n  const [employees, setEmployees] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Fetch employees at initial load\r\n  const loadEmployees = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const data = await apiFetchEmployees();\r\n      setEmployees(data);\r\n    } catch (err) {\r\n      setError(\"Failed to fetch employees.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadEmployees();\r\n  }, [loadEmployees]);\r\n\r\n  // Add Employee\r\n  const addEmployee = async (employee) => {\r\n    setLoading(true);\r\n    try {\r\n      const newEmp = await apiAddEmployee(employee);\r\n      setEmployees((prev) => [...prev, newEmp]);\r\n      return newEmp;\r\n    } catch (err) {\r\n      setError(\"Failed to add employee.\");\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Update Employee\r\n  const updateEmployee = async (id, updated) => {\r\n    setLoading(true);\r\n    try {\r\n      await apiUpdateEmployee(id, updated);\r\n      setEmployees((prev) =>\r\n        prev.map((emp) =>\r\n          emp.id === id ? { ...emp, ...updated } : emp\r\n        )\r\n      );\r\n    } catch (err) {\r\n      setError(\"Failed to update employee.\");\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Optimistic Delete\r\n  const deleteEmployee = async (id) => {\r\n    // Optimistic UI Update:\r\n    const previousEmployees = [...employees];\r\n    setEmployees((prev) => prev.filter((emp) => emp.id !== id));\r\n\r\n    try {\r\n      await apiDeleteEmployee(id);\r\n      // success -> permanent\r\n    } catch (err) {\r\n      // rollback UI\r\n      setEmployees(previousEmployees);\r\n      setError(\"Delete failed — restored employee.\");\r\n    }\r\n  };\r\n\r\n  // Get Single Employee\r\n  const getEmployeeById = async (id) => {\r\n    try {\r\n      return await apiGetEmployeeById(id);\r\n    } catch (err) {\r\n      setError(\"Employee not found.\");\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EmployeeContext.Provider\r\n      value={{\r\n        employees,\r\n        loading,\r\n        error,\r\n        addEmployee,\r\n        updateEmployee,\r\n        deleteEmployee,\r\n        getEmployeeById,\r\n        reload: loadEmployees,\r\n      }}\r\n    >\r\n      {children}\r\n    </EmployeeContext.Provider>\r\n  );\r\n}\r\n\r\n// Custom Hook\r\nexport function useEmployees() {\r\n  return useContext(EmployeeContext);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}